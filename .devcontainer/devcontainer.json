// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/jekyll
{
	"name": "mirceanton.com-devcontainer",
	"image": "mcr.microsoft.com/devcontainers/jekyll:2-bookworm",
	"features": {
		"ghcr.io/devcontainers-contrib/features/go-task:1": {},
		"ghcr.io/devcontainers/features/docker-in-docker:2": {
			"version": "latest",
			"dockerDashComposeVersion": "latest",
			"installDockerBuildx": "true",
			"enableNonRootDocker": "true"
		}
	},
	"forwardPorts": [
		4000,
		35729
	],
	"remoteUser": "vscode",
	"containerUser": "vscode",
	"updateRemoteUserUID": true,
	"postCreateCommand": "bash .devcontainer/setup.sh",
	"customizations": {
		"vscode": {
			"extensions": [
				"aaron-bond.better-comments",
				"ms-azuretools.vscode-docker",
				"davidanson.vscode-markdownlint",
				"albert.TabOut",
				"mhutchie.git-graph",
				"bierner.emojisense",
				"redhat.vscode-yaml",
				"pkief.material-icon-theme",
				"task.vscode-task",
				"GitHub.copilot",
				"foxundermoon.shell-format",
				"DavidAnson.vscode-markdownlint",
				"tamasfe.even-better-toml"
			],
			"settings": {
				"editor.fontFamily": "Cascadia Code",
				"editor.fontSize": 14,
				"editor.fontLigatures": true,
				"editor.cursorBlinking": "phase",
				"editor.bracketPairColorization.enabled": true,
				"editor.bracketPairColorization.independentColorPoolPerBracketType": true,
				"editor.guides.bracketPairs": true,
				"editor.guides.bracketPairsHorizontal": true,
				"editor.guides.highlightActiveBracketPair": true,
				"editor.hover.delay": 500,
				"editor.renderWhitespace": "boundary",
				"editor.rulers": [
					150,
					200
				],
				"editor.stickyScroll.enabled": false,
				"explorer.autoReveal": false,
				"files.associations": {
					"**/*.json5": "jsonc"
				},
				"files.trimTrailingWhitespace": true,
				"editor.formatOnSave": true,
				"files.autoSave": "afterDelay",
				"files.autoSaveDelay": 1000,
				"workbench.iconTheme": "material-icon-theme",
				"[json]": {
					"editor.defaultFormatter": "vscode.json-language-features",
					"editor.insertSpaces": true,
					"editor.tabSize": 2,
					"editor.quickSuggestions": {
						"strings": true
					},
					"editor.suggest.insertMode": "replace"
				},
				"[yaml]": {
					"editor.defaultFormatter": "redhat.vscode-yaml",
					"editor.insertSpaces": true,
					"editor.tabSize": 2,
					"editor.autoIndent": "keep",
					"editor.quickSuggestions": {
						"other": true,
						"comments": false,
						"strings": true
					}
				},
				"[shellscript]": {
					"editor.defaultFormatter": "foxundermoon.shell-format",
					"files.eol": "\n"
				},
				"[markdown]": {
					"editor.defaultFormatter": "DavidAnson.vscode-markdownlint",
					"editor.wordWrap": "on"
				},
				"[dockerfile]": {
					"editor.defaultFormatter": "ms-azuretools.vscode-docker",
					"editor.quickSuggestions": {
						"strings": true
					}
				}
			}
		}
	}
}